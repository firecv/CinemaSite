@using System.Globalization

@{
    ViewData["Title"] = "Repertuar";
    var currentDate = DateTime.Today;
    var translateToPolish = new CultureInfo("pl-PL");

    var screeningDictionary = Model.Screenings.GroupBy(s => s.movie_id).ToDictionary(g => g.Key, g => g.OrderBy(i => i.screening_time).ToList());
}

@model CinemaSite.ViewModels.DatabaseViewModel

<!--Screenings = upcomingScreenings,
    Movies = upcomingMovies,
    Genres = _context.Genre.ToList(),
    MovieGenreJoins = neededMovieGenreJoins-->

<div id="body">

    <label for="forKids">Filmy dla dzieci</label>
    <input name="forKids" type="checkbox" id="kid-filter" />
    <input id="title-search" name="titleSearch" type="text" placeholder="🔍︎Szukaj filmu..." autocomplete="off" />

    <table id="movie-table">
        <thead>
            <tr>
                <th>Filmy</th>
                <th>Seanse</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var movie in Model.Movies)
            {
                <tr class="movie-row" data-title="@movie.title" data-forkids="@movie.for_kids">
                    <td>
                        <p>@movie.title</p> <!--simple for now-->
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@section Scripts {
    <script src="~/js/repertuar-filter.js" asp-append-version="true" defer></script>
}